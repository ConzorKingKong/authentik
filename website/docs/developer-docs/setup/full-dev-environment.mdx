---
title: Full development environment
sidebar_label: Full development
tags:
    - development
    - contributor
    - backend
    - frontend
    - docker
---

import ExecutionEnvironment from "@docusaurus/ExecutionEnvironment";
import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

## Requirements

- [Python](https://www.python.org/) (3.13 or later)
- [uv](https://docs.astral.sh/uv/getting-started/installation/), (Latest stable release)
- [Go](https://go.dev/) (1.24 or later)
- [Node.js](https://nodejs.org/en) (24 or later)
- [PostgreSQL](https://www.postgresql.org/) (16 or later)
- [Redis](https://redis.io/) (7 or later)
- [Docker](https://www.docker.com/) (Latest Community Edition or Docker Desktop)
- [Docker Compose](https://docs.docker.com/compose/) (Compose v2)

## Services Setup

authentik uses [Redis](https://redis.io/), [PostgreSQL](https://www.postgresql.org/), [Zenko CloudServer (S3)](https://www.zenko.io/cloudserver/), and [Sentry Spotlight](https://spotlightjs.com/). You can run these services using the docker-compose.yml file in the scripts/ directory with the following command:

```shell
docker compose -f scripts/docker-compose.yml up -d
```

Alternatively, you can install and run these services directly on your system if you prefer.

:::info
If you use locally installed databases, the PostgreSQL credentials given to authentik should have permissions for `CREATE DATABASE` and `DROP DATABASE`, because authentik creates a temporary database for tests.
:::

## Backend Setup

:::info
Depending on your platform, some native dependencies might be required.

<Tabs
defaultValue={ (ExecutionEnvironment.canUseDOM) ? (() => {
const ua = window.navigator.userAgent.toLowerCase();
return ["linux", "windows", "mac"].find((p) => ua.includes(p)) || "mac";
})() : "mac" }

values={[
{label: "macOS", value: "mac"},
{label: "Linux", value: "linux"},
{label: "Windows", value: "windows"},
]}>

  <TabItem value="mac">
    To install the native dependencies on macOS, run:

    ```shell
    brew install libxmlsec1 libpq krb5 pkg-config \
    uv postgresql redis node@24 golangci-lint
    ```

</TabItem>

<TabItem value="linux">
To install native dependencies on Debian or Ubuntu, run:

```shell
pip install uv && \
sudo apt-get install -y \
  libgss-dev \
  krb5-config \
  libkrb5-dev \
  postgresql-server-dev-all \
  postgresql \
  redis
 postgresql-server-dev-all postgresql redis
```

Adjust your needs as required for other distributions such as Red Hat, SUSE, or Arch.

Install golangci-lint locally [from the site instructions](https://golangci-lint.run/welcome/install/#other-ci).

  </TabItem>

<TabItem value="windows">
    [We request community input on running the full dev environment on Windows]
</TabItem>

</Tabs>

:::

:::info
All `make` commands must be executed from the root directory of your local authentik Git repository.
:::

Install all required JavaScript and Python dependencies and create an isolated Python environment:

```shell
make install
```

Then generate a local config file to use the local databases for development:

```shell
make gen-dev-config
```

Generally speaking, authentik is a Django application, ran by gunicorn, proxied by a Go application. The Go application serves static files.

Most functions and classes have type-hints and docstrings, so it is recommended to install a Python Type-checking Extension in your IDE to navigate around the code.

## Frontend Setup

By default, no compiled bundle of the frontend is included so this step is required even if you're not developing for the UI.
The UI requires the authentik API files for Typescript be built and installed.

You first need to run database migrations:

```shell
make migrate
```

And then you need to generate the schema files (schema.yml, blueprints/schema.json) and the TypeScript client:

```shell
make gen
```

:::info
If you make changes to the authentik API, you must re-run `make gen` so that the corresponding
changes are made to the API library that is used by the UI.
:::

You can do a one time build of the UI:

```shell
make web-build
```

You can also make live edits to the UI, with real-time feedback as updates are rebuilt automatically:

```shell
make web-watch
```

And you can format the front-end code after you've made changes:

```shell
make web
```

## Running authentik

Now that the backend and frontend have been setup and built, you can start authentik:

```shell
make run
```

And now, authentik should now be accessible at `http://localhost:9000`.

:::info
To define a password for the default admin (called **akadmin**), you can manually enter the `/if/flow/initial-setup/` path in the browser address bar to launch the initial flow. Example: http://localhost:9000/if/flow/initial-setup/.

In case of issues in this process, feel free to use `make dev-reset` which drops and restores the authentik PostgreSQL instance to a "fresh install" state.
:::

## Submitting Pull Requests

Before submitting a pull request, you'll need to make sure that:

The code is properly linted:

```shell
make lint
```

We've generated an updated OpenAPI Doc for our changes:

```shell
make gen
```

And we've formatted our front-end code:

```shell
make web
```

You can do all of these at once with the following:

```shell
make lint gen web
```
